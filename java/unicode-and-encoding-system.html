<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>了解Unicode及常见字符编码</title>
<!-- 2014-05-08 Thu 09:57 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="songy" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">



<div id="header">
	<h1>
	<a href="http://blog.toykit.tk">ToyKit.TK</a>
	<span class="byline"> 靠谱哥de玩具盒 </span>
</h1>
<ul class="nav">
  <li><a class="home" href="http://blog.toykit.tk">Home</a></li>
  <li><a class="info" href="http://blog.toykit.tk/archives.html">Archives</a></li>
</ul>
</div>
</div>
<div id="content">
<h1 class="title">了解Unicode及常见字符编码</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. ASCII： 单字节</a></li>
<li><a href="#sec-2">2. EUC： 双字节</a></li>
<li><a href="#sec-3">3. GB2312： EUC-CN</a></li>
<li><a href="#sec-4">4. GBK 和 UCS</a></li>
</ul>
</div>
</div>
<p>
按照编码规则出现的大致时间,可以这样理解：
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> ASCII： 单字节</h2>
<div class="outline-text-2" id="text-1">
<p>
<a href="http:zh.wikipedia.org/wiki/ASCII">http:zh.wikipedia.org/wiki/ASCII</a>
</p>

<p>
0x0000 0000 ~ 0x0111 1111
0~127 总共128个字符。
</p>

<p>
发展问题：欧洲非英文国家分别扩展第一位，所以除了0~127部分兼容ASCII，其
余的128个字符是互不兼容的。
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> EUC： 双字节</h2>
<div class="outline-text-2" id="text-2">
<p>
由于亚洲语系字符数目众多，为了表示亚洲语言，Unix平台上出现了EUC方法。
</p>

<p>
EUC全名为Extended Unix Code，它使用了一些兼容于ISO/IEC 2022区位码的
94x94编码表，把每个区位加上0xA0来表示，以便兼容于ASCII。所谓兼容ASCII即
是指0xA0 = 160 作为边界值，这样就躲开了 0~127的取值空间。这样保证了使用
这一规范的码表都不会与原有的ASCII表产生冲突。而之所以是94*94码表的原因
也很简单，这是已经是一个字节所能表示的最大值: 160 + 94 = 254。
</p>

<p>
EUC规范了若干亚洲语系的子集，包括EUC-CN，EUC-JP，EUC-KR 等。（著名的
CJK语言包就是这三个国家首字母缩写拼成的）。EUC-CN 也就是GB2312，汉字的
码表规则采取了区位码，用一个字节表示区，另一个字节表示区内的字。
</p>

<p>
已经知道，基数0xA0 意味着这个规范下的所有字符表示成计算机数值后，每个字
节的最小值也不会低于0xA0。这样在计算编码的时候，只要将数值减去0xA0这个
基数，再到码表对照就可以了知道要显示的是什么字符了。
</p>

<p>
反之已知一个字符在规范内的码，只要将字符的序号分开两部分（对应两个字
节），并分别加上这个基数，就可以了。
</p>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> GB2312： EUC-CN</h2>
<div class="outline-text-2" id="text-3">
<p>
参考wiki上的例子：
</p>

<p>
啊(字符）-&gt; 查询码表 -&gt; 16 01 -&gt; （0xA0 + 16）（0xA0 + 01）-&gt; 0xB0 0xA1
-&gt; 0xB0A1（数值）
</p>

<p>
GB2312规定
</p>

<ul class="org-ul">
<li>01-09区为特殊符号。
</li>
<li>16-55区为一级汉字，按拼音排序。
</li>
<li>56-87区为二级汉字，按部首／笔画排序。
</li>
</ul>

<p>
按照表格的形式理解的话，就是说这个表格有6行空行（10~15）。
</p>

<p>
这样计算最多也就是 (94 -6)*94 = 8448 个字符，而实际上这个标准指收录了
6763个汉字。这对汉语来讲很明显是不够的。这也直接导致了GBK及GB 18030汉字
字符集的出现。
</p>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> GBK 和 UCS</h2>
<div class="outline-text-2" id="text-4">
<p>
面对汉字字数无法被GB2312全部兼容的情况，出现了三种解决方案：
</p>

<p>
1、Unicode1.1 出现
</p>

<p>
收录中国大陆、台湾、日本及韩国通用字符集的汉字，总共有20,902个。
</p>

<p>
2、GBK 出现
</p>

<p>
中国大陆在Unicode1.1发布以后，制定了等同于这个版本的“GB 13000.1-93”规范。
</p>

<p>
而其后，微软则利用GB 2312-80未使用的编码空间(前面已经说到GB2312还有空余
空间)，收录GB 13000.1-93全部字符制定了GBK编码。这个规范的码表名称叫做
CP936，由于这个规范兼容GB2312规范，所以其本质上还是EUC表示法的双字节编
码，只不过码表的大小做了扩充。
</p>

<p>
3、UCS &amp; UTF
</p>

<p>
UCS是由ISO组织发布的 ISO 10646规范限定的字符集（Universal Character
Set，UCS）。Unicode则来自unicode组织。UCS和Unicode这两个规范在
Unicode2.0的时候做了合并，也就是说对于UCS 约等于 Unicode，UCS又称
Universal Multiple-Octet Coded Character Set，意思就是使用多个8位进行编
码的字符集。
</p>

<p>
UCS是ISO的叫法，Unicode组织的实现叫做UTF，以下是unicode组织的说法：
</p>

<p>
关于名称：
<a href="http:www.unicode.org/faq/utf_bom.html">http:www.unicode.org/faq/utf_bom.html</a>
</p>
<div class="org-src-container">

<pre class="src src-java">Q: What is a UTF?

A: A Unicode transformation format (UTF) is an algorithmic mapping
from every Unicode code point (except surrogate code points) to a
unique byte sequence. The ISO/IEC 10646 standard uses the term “UCS
transformation format” for UTF; the two terms are merely synonyms for
the same concept.
</pre>
</div>

<p>
关于区别
</p>
<div class="org-src-container">

<pre class="src src-java">Q: What is the difference between UCS-2 and UTF-16?

A: UCS-2 is obsolete terminology which refers to a Unicode
implementation up to Unicode 1.1, before surrogate code points and
UTF-16 were added to Version 2.0 of the standard. This term should now
be avoided.

UCS-2 does not define a distinct data format, because UTF-16 and UCS-2
are identical for purposes of data exchange. Both are 16-bit, and have
exactly the same code unit representation.

Sometimes in the past an implementation has been labeled "UCS-2" to
indicate that it does not support supplementary characters and doesn't
interpret pairs of surrogate code points as characters. Such an
implementation would not handle processing of character properties,
code point boundaries, collation, etc. for supplementary
characters.
</pre>
</div>


<p>
<b>UTF8</b>
</p>

<p>
为了继续兼容ASCII，并兼顾Unicode，产生了UTF8表示法。
</p>

<p>
这是一种兼顾单字节和多字节的表示法。
</p>

<p>
<b>编码规则</b> ：
</p>

<p>
<b>1、头：第一个字节前n位表示字节总数，后补一个0作为分隔符，剩余位存储用。</b> 
</p>

<p>
<b>2、体：1开头，加0分隔，然后用剩余6位存储实际内容。</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">UCS-4编码</td>
<td class="left">&#x2026;</td>
<td class="left">UTF-8字节流</td>
</tr>

<tr>
<td class="left">U+00000000 – U+0000007F</td>
<td class="left">&rarr;</td>
<td class="left">0xxxxxxx</td>
</tr>

<tr>
<td class="left">U+00000080 – U+000007FF</td>
<td class="left">&rarr;</td>
<td class="left">110xxxxx 10xxxxxx</td>
</tr>

<tr>
<td class="left">U+00000800 – U+0000FFFF</td>
<td class="left">&rarr;</td>
<td class="left">1110xxxx 10xxxxxx 10xxxxxx</td>
</tr>

<tr>
<td class="left">U+00010000 – U+001FFFFF</td>
<td class="left">&rarr;</td>
<td class="left">11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</td>
</tr>

<tr>
<td class="left">U+00200000 – U+03FFFFFF</td>
<td class="left">&rarr;</td>
<td class="left">111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx</td>
</tr>

<tr>
<td class="left">U+04000000 – U+7FFFFFFF</td>
<td class="left">&rarr;</td>
<td class="left">1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx</td>
</tr>
</tbody>
</table>




<div id="disqus_thread"></div>
   <script type="text/javascript">
       /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
       var disqus_shortname = 'kaopu'; // required: replace example with your forum shortname

       /* * * DON'T EDIT BELOW THIS LINE * * */
       (function() {
           var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
           dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
           (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
       })();
   </script>
   <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
   <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: songy</p>
<p class="date">Created: 2014-05-08 Thu 09:57</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.5h)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
